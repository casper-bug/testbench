<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>School Bus Maintenance Dashboard</title>
<style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; margin: 0; padding: 0; }
    header { background: #2c3e50; color: white; padding: 15px; text-align: center; }
    .container { width: 90%; margin: auto; margin-top: 20px; }
    .card { background: white; padding: 15px; margin-bottom: 15px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    .due-soon { background-color: #fff3cd; }
    .overdue { background-color: #f8d7da; }
    h2 { margin-top: 0; }
    label { display: block; margin-top: 10px; }
    input, select { padding: 5px; width: 100%; margin-top: 5px; }
    button { margin-top: 10px; padding: 10px; background: #27ae60; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #219150; }
</style>
</head>
<body>
<header>
    <h1>School Bus Maintenance Dashboard</h1>
</header>
<div class="container">
    <h2>Add Vehicle</h2>
    <div class="card">
        <label>Vehicle Name/Number:</label>
        <input type="text" id="vehicleName">
        <label>Task Type:</label>
        <select id="taskType">
            <option>Insurance</option>
            <option>Fitness Test</option>
            <option>Extinguisher Refill</option>
            <option>Pollution Test</option>
            <option>First Aid Kit Replacement</option>
            <option>Taxes</option>
        </select>
        <label>Last Renewal Date:</label>
        <input type="date" id="lastDate">
        <label>Renewal Interval (months):</label>
        <input type="number" id="interval" min="1" value="12">
        <button onclick="addVehicle()">Add Vehicle Task</button>
    </div>
    <h2>Upcoming Tasks</h2>
    <div id="taskList"></div>
</div>
<script>
let tasks = JSON.parse(localStorage.getItem('tasks')) || [];function addVehicle() { let vehicle = document.getElementById('vehicleName').value.trim(); let taskType = document.getElementById('taskType').value; let lastDate = new Date(document.getElementById('lastDate').value); let interval = parseInt(document.getElementById('interval').value);

if (!vehicle || isNaN(lastDate.getTime())) {
    alert('Please fill all fields correctly');
    return;
}

let nextDate = new Date(lastDate);
nextDate.setMonth(nextDate.getMonth() + interval);

tasks.push({ vehicle, taskType, lastDate: lastDate.toISOString(), interval, nextDate: nextDate.toISOString() });
localStorage.setItem('tasks', JSON.stringify(tasks));
renderTasks();

}

function markCompleted(index) { let task = tasks[index]; let newLastDate = new Date(task.nextDate); let newNextDate = new Date(newLastDate); newNextDate.setMonth(newNextDate.getMonth() + task.interval); tasks[index].lastDate = newLastDate.toISOString(); tasks[index].nextDate = newNextDate.toISOString(); localStorage.setItem('tasks', JSON.stringify(tasks)); renderTasks(); }

function renderTasks() { let list = document.getElementById('taskList'); list.innerHTML = ''; let today = new Date();

tasks.sort((a,b) => new Date(a.nextDate) - new Date(b.nextDate));

tasks.forEach((t, i) => {
    let nextDate = new Date(t.nextDate);
    let diffDays = Math.floor((nextDate - today) / (1000*60*60*24));
    
    let card = document.createElement('div');
    card.className = 'card';
    if (diffDays <= 7 && diffDays >= 0) card.classList.add('due-soon');
    if (diffDays < 0) card.classList.add('overdue');
    
    card.innerHTML = `<strong>${t.vehicle}</strong> - ${t.taskType}<br>
    Next Due: ${nextDate.toDateString()} (${diffDays} days left)
    <br><button onclick="markCompleted(${i})">Mark Completed</button>`;
    list.appendChild(card);
});

}

renderTasks(); </script>

</body>
</html>
